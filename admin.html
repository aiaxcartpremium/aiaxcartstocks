<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Stock Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="dashboard-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>Stock Management System</h1>
                    <span class="user-role">Admin Dashboard</span>
                </div>
                <div class="user-info">
                    <span id="current-user">Loading...</span>
                    <span class="sales-badge" id="sales-count">Sales: 0</span>
                    <button id="logout-btn" class="btn btn-danger">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Admin Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ðŸ›’</div>
                <div class="stat-info">
                    <div class="stat-value" id="available-stock">0</div>
                    <div class="stat-label">Available Stock</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ðŸ’°</div>
                <div class="stat-info">
                    <div class="stat-value" id="total-sales">0</div>
                    <div class="stat-label">Total Sales</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ðŸ“ˆ</div>
                <div class="stat-info">
                    <div class="stat-value" id="total-revenue">â‚±0</div>
                    <div class="stat-label">Total Revenue</div>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="available">Available Stock</button>
            <button class="tab-btn" data-tab="my-sales">My Sales</button>
        </div>

        <!-- Available Stock Tab -->
        <div class="tab-content active" id="available-tab">
            <div class="card">
                <div class="card-header">
                    <h3>Available Accounts for Sale</h3>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Account Name</th>
                                <th>Type</th>
                                <th>Price</th>
                                <th>Available Qty</th>
                                <th>Description</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="available-stock-body">
                            <!-- Available stock will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- My Sales Tab -->
        <div class="tab-content" id="my-sales-tab">
            <div class="card">
                <div class="card-header">
                    <h3>My Sales History</h3>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Sale ID</th>
                                <th>Account Name</th>
                                <th>Type</th>
                                <th>Qty Sold</th>
                                <th>Price</th>
                                <th>Total</th>
                                <th>Date Sold</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody id="my-sales-body">
                            <!-- Sales will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Sell Account Modal -->
    <div id="sell-account-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Sell Account</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="sell-account-form">
                <input type="hidden" id="sell-account-id">
                
                <div class="account-info">
                    <h4 id="sell-account-name"></h4>
                    <p>Type: <span id="sell-account-type"></span></p>
                    <p>Available: <span id="sell-available-qty"></span></p>
                    <p>Price: â‚±<span id="sell-account-price"></span></p>
                </div>
                
                <div class="form-group">
                    <label for="sell-quantity">Quantity to Sell *</label>
                    <input type="number" id="sell-quantity" name="quantity_sold" required 
                           min="1" value="1">
                </div>
                
                <div class="form-group">
                    <label for="sell-price">Selling Price (â‚±) *</label>
                    <input type="number" id="sell-price" name="sold_price" required 
                           step="0.01" min="0" placeholder="0.00">
                </div>
                
                <div class="form-group">
                    <label for="sell-notes">Notes (Optional)</label>
                    <textarea id="sell-notes" name="notes" 
                              placeholder="Any additional notes..." rows="2"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-sell-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="confirm-sell-btn">Confirm Sale</button>
                </div>
            </form>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="api.js"></script>
    <script src="admin.js"></script>
</body>
</html>
